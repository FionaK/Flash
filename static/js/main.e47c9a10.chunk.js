(this.webpackJsonpflash=this.webpackJsonpflash||[]).push([[0],{181:function(e,t,a){},182:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(2),c=a.n(s),r=a(19),i=a.n(r),o=a(12),l=a(16),u=a(125),d=a(6),m=a(7),p=a(9),b=a(8),j=a(18),h=a(24),O=a(27),f=Object(O.a)({basename:"/Flash"}),x=a(17),g=a.n(x),v=a(26),y=a(23),N="SET_HOME",C="CLEAR_HOME",k="LOADING_FORM",S="CLEAR_LOADING_FORM",T="SET_FORM_FILE_FIELD_LABEL",L="CLEAR_FORM_FILE_FIELD_LABEL",w="TRAIN_TOKEN_SET",F="TRAIN_TOKEN_CLEAR",D="CLASSIFY_CONFIG",A="CLASSIFY_MODEL_TYPE",I="CLASSIFY_DATA_SPLIT",P="CLASSIFY_ADD_CLASS",M="CLASSIFY_DELETE_CLASS",E="CLASSIFY_CURRENT_CLASS",z="CLASSIFY_ADD_IMAGES",R="CLASSIFY_DATA_CLEAR",_="CLASSIFY_CLEAR",B="SA_CONFIG",U="SA_RNN_TYPE",V="SA_DATA_SPLIT",G="SA_DATA_ADD",Y="SA_DATA_CLEAR",H="SA_CLEAR",q="INFERENCE_CONFIG_SET",$="INFERENCE_CONFIG_CLEAR",J="INFERENCE_SUBMIT",W="INFERENCE_PREDICTION_CLEAR",Z="INFERENCE_CLEAR",K=a(20),X=a(68),Q=a.n(X),ee=Q.a.create({baseURL:"https://1tyzrad9g7.execute-api.us-east-1.amazonaws.com/dev",headers:{post:{"Content-Type":"multipart/form-data"}}}),te=Q.a.create({baseURL:"https://6yjieipsd1.execute-api.us-east-1.amazonaws.com/dev",headers:{post:{"Content-Type":"multipart/form-data"}}}),ae=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n,s,c,r,i,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.url,n=t.formData,s=t.requestType,c=t.maxNumTries,r=t.apiType,i=null,o=0,l=te,"train"===r&&(l=ee),c||(c=1);case 6:if(!(o>=0&&o<c)){e.next=26;break}if(e.prev=7,"post"!==s){e.next=14;break}return e.next=11,l.post(a,n);case 11:i=e.sent,e.next=17;break;case 14:return e.next=16,l.get(a);case 16:i=e.sent;case 17:o=-1,e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),console.log(e.t0),o++;case 24:e.next=6;break;case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({url:"/status",requestType:"get",apiType:"train"});case 2:return t=e.sent,e.abrupt("return","active"!==t.data.status);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e){h.b.dark(Object(n.jsxs)("div",{children:[Object(n.jsx)(K.b,{size:25,color:"yellow"}),"\xa0 ",e]}))},ce=function(e){if(e&&e.data){if("success"===e.data.result)return!0;"error"===e.data.result?se(e.data.message):se("500: Internal Server Error!")}else se("500: Internal Server Error!");return!1},re=function(e){return{type:k,payload:e}},ie=function(e){return{type:S,payload:e}},oe=function(e){return{type:L,payload:e}},le=function(){return{type:F}},ue=function(e){var t=e.taskName,a=e.config;return{type:"classification"===t?D:B,payload:a}},de=function(e){return function(t){t(oe(e)),t({type:"classification"===e?R:Y})}},me=function(e){return function(t){t(oe(e)),t({type:"classification"===e?_:H})}},pe=function(e){var t=e.formName,a=e.trainConfig;return function(){var e=Object(v.a)(g.a.mark((function e(n){var s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&n(re(t)),e.next=3,ne();case 3:if(!e.sent){e.next=13;break}return(s=new FormData).append("training_data",JSON.stringify(a)),e.next=9,ae({url:"/train",formData:s,requestType:"post",apiType:"train"});case 9:c=e.sent,ce(c)&&(n({type:w,payload:c.data.token}),n(Object(y.a)(t))),e.next=14;break;case 13:se("Server is currently training another model! Please try again after a few minutes.");case 14:t&&n(ie(t));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},be=a(11),je=a.n(be),he=a(41),Oe=(a(58),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).modalCardContent=[{title:"Training",targetUrl:"/training",contentImage:"".concat("/Flash","/assets/images/training.gif"),contentText:Object(n.jsxs)(n.Fragment,{children:["Train an"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"Image Classification"})})," ","or"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"Sentiment Analysis"})})," ","model on your custom dataset."]}),buttonText:"Choose Task"},{title:"Inference",targetUrl:"/inference",contentImage:"".concat("/Flash","/assets/images/inference.gif"),contentText:"Already trained a model on Flash? Choose this to test your model.",buttonText:"Test Model"}],s}return Object(m.a)(a,[{key:"renderCardContent",value:function(e){var t=e.title,a=e.targetUrl,s=e.contentImage,c=e.contentText,r=e.buttonText;return Object(n.jsxs)("div",{className:"card card-hover",children:[Object(n.jsx)("img",{src:s,className:"card-img-top",style:{height:"24vh"},alt:"source"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h4",{className:"card-title text-center",children:t}),Object(n.jsx)("p",{className:"card-text my-4",children:c}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(he.a,{to:a,children:Object(n.jsx)("button",{className:"btn btn-info",children:r})})})]})]},a)}},{key:"renderContent",value:function(){var e=this;return Object(n.jsx)("div",{className:"card-deck px-0 px-md-5",children:je.a.map(this.modalCardContent,(function(t){return e.renderCardContent(t)}))})}},{key:"render",value:function(){return i.a.createPortal(Object(n.jsx)("div",{className:"modal-container",onClick:this.props.onDismiss,children:Object(n.jsxs)("div",{className:"modal-body",onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{className:"text-center",children:"Get Started"}),Object(n.jsx)("hr",{className:"w-100 mb-4"}),this.renderContent(),Object(n.jsx)("hr",{className:"w-100 mt-4"}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col text-right",children:Object(n.jsx)("button",{className:"btn btn-warning mr-2",onClick:this.props.onDismiss,children:"Go Back"})})})]})}),document.querySelector("#modal"))}}]),a}(c.a.Component)),fe=(a(181),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={displayModal:!1},e.toggleModal=function(){e.setState({displayModal:!e.state.displayModal})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.setHome()}},{key:"componentWillUnmount",value:function(){this.props.clearHome()}},{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.state.displayModal?Object(n.jsx)(Oe,{onDismiss:this.toggleModal}):""})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("div",{className:"overlay"}),Object(n.jsx)("div",{className:"container h-100",children:Object(n.jsx)("div",{className:"d-flex h-100 text-center align-items-center",children:Object(n.jsxs)("div",{className:"w-100 text-white",children:[Object(n.jsxs)("h1",{className:"display-3",children:[Object(n.jsx)("img",{src:"".concat("/Flash","/flash.svg"),style:{height:"10vh"},alt:"flash-logo"})," ","FLASH"]}),Object(n.jsx)("button",{className:"btn btn-outline-light mt-5",onClick:function(){return e.toggleModal()},children:"Get Started"})]})})})]}),this.renderModal()]})}}]),a}(c.a.Component)),xe=Object(o.b)(null,{setHome:function(){return{type:N}},clearHome:function(){return{type:C}}})(fe),ge=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).toggleNavbar=function(){n.setState({collapsed:!n.state.collapsed})},n.state={collapsed:!0},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.history.location.pathname.substring(1);return Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"black"},children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)(he.a,{to:"/",className:"navbar-brand",children:[Object(n.jsx)("img",{src:"".concat("/Flash","/flash.svg"),style:{height:"2rem"},className:"mr-2",alt:"logo"})," ","Flash"]}),Object(n.jsx)("button",{className:"navbar-toggler navbar-toggler-right ".concat(this.state.collapsed?"collapsed":""),type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:this.toggleNavbar,children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse ".concat(this.state.collapsed?"":"show"),id:"navbarSupportedContent",onClick:this.toggleNavbar,children:Object(n.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{className:"nav-item ".concat("training"===e?"active":""),children:Object(n.jsx)(he.a,{className:"nav-link",to:"/training",children:"Training"})},"training"),Object(n.jsx)("li",{className:"nav-item ".concat("inference"===e?"active":""),children:Object(n.jsx)(he.a,{className:"nav-link",to:"/inference",children:"Inference"})},"inference")]})})]})})}}]),a}(c.a.Component),ve=Object(j.f)(ge),ye=(a(182),Object(o.b)((function(e){return{isHome:e.isHome}}))((function(e){return Object(n.jsx)(n.Fragment,{children:e.isHome?"":Object(n.jsx)("footer",{className:"footer py-3 mt-5",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-6 text-left",children:[Object(n.jsx)("img",{src:"".concat("/Flash","/flash.svg"),style:{height:"2rem"},alt:"logo"}),Object(n.jsx)("span",{className:"text-muted ml-3",children:"Flash"})]}),Object(n.jsxs)("div",{className:"col-6 text-right",children:[Object(n.jsx)("span",{className:"text-muted mr-3",children:Object(n.jsx)("a",{className:"anchor-black",rel:"noreferrer",href:"https://github.com/shan18/Flash",target:"_blank",children:"GitHub"})}),Object(n.jsx)("img",{src:"".concat("/Flash","/github_logo.png"),style:{height:"1.5rem"},alt:"github"})]})]})})})})}))),Ne=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderButton",value:function(e){var t=this,a="",s="";return e instanceof Object?(a=e.buttonValue,s=e.buttonText):(a=e,s=e),Object(n.jsx)("button",{className:"btn border border-secondary mx-2 my-2 btn-hover ".concat(this.props.isSmall?"btn-sm":""," ").concat(this.props.currentButtonValue===a?"btn-primary":""),onClick:function(e){e.preventDefault(),t.props.changeCurrentButtonValue(a)},children:void 0===s?a:s},a)}},{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:je.a.map(this.props.hoverButtons,(function(t){return e.renderButton(t)}))})}}]),a}(c.a.Component),Ce=a(3),ke=function(e){return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 text-center",children:Object(n.jsx)("h4",{className:"heading",children:e})}),Object(n.jsx)("div",{className:"col-12 text-center",children:Object(n.jsx)("div",{className:"spinner-grow spinner-grow-md",role:"status"})})]})},Se=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},Te=function(e){return e.replace("data:","").replace(/^.+,/,"")},Le=function(e){var t=e.touched,a=e.error;return"".concat(t&&a?"is-invalid":"")},we=function(e){var t=e.error;if(e.touched&&t)return Object(n.jsx)("div",{className:"invalid-feedback",children:t})},Fe=function(e){var t=e.input,a=e.label,s=e.type,c=e.placeholder,r=e.textAppend,i=e.enableAppendSumbit,o=e.readOnly,l=e.meta;return Object(n.jsxs)(n.Fragment,{children:[a?Object(n.jsx)("label",{children:a}):"",Object(n.jsxs)("div",{className:"input-group ".concat(Le(l)),children:[Object(n.jsx)("input",Object(Ce.a)(Object(Ce.a)({},t),{},{type:s,className:"form-control",placeholder:c,autoComplete:"off",readOnly:o})),r?Object(n.jsx)("div",{className:"input-group-append",children:i?Object(n.jsx)("button",{className:"btn btn-danger",children:r}):Object(n.jsx)("button",{className:"btn btn-danger",onClick:function(e){return e.preventDefault},children:r})}):""]}),we(l)]})},De=function(e){var t=e.input,a=e.contentType,s=e.type,c=e.placeholder,r=e.label,i=e.options,o=e.acceptFileFormat,l=e.multiple,u=e.textAppend,d=e.enableAppendSumbit,m=e.isFixed,p=e.formGroupClassName,b=e.meta;return"text"===a?function(e){var t=e.input,a=e.label,s=e.type,c=e.placeholder,r=e.textAppend,i=e.enableAppendSumbit,o=e.readOnly,l=e.formGroupClassName,u=e.meta;return Object(n.jsx)("div",{className:"form-group ".concat(l),children:Fe({input:t,label:a,type:s,placeholder:c,textAppend:r,enableAppendSumbit:i,readOnly:o,meta:u})})}({input:t,label:r,type:s,placeholder:c,textAppend:u,enableAppendSumbit:d,readOnly:m,formGroupClassName:p,meta:b}):"dropdown"===a?function(e){var t=e.input,a=e.label,s=e.options,c=e.formGroupClassName,r=e.meta;return Object(n.jsxs)("div",{className:"form-group ".concat(c),children:[a?Object(n.jsx)("label",{children:a}):"",Object(n.jsx)("div",{className:"input-group ".concat(Le(r)),children:Object(n.jsxs)("select",Object(Ce.a)(Object(Ce.a)({},t),{},{className:"form-control custom-select",children:[s.default?Object(n.jsx)("option",{value:"",children:s.default}):"",je.a.map(s,(function(e,t){return"default"!==t?Object(n.jsx)("option",{value:t,children:e},t):""}))]}))}),we(r)]})}({input:t,label:r,options:i,formGroupClassName:p,meta:b}):"file"===a?function(e){var t=e.input,a=e.label,s=e.acceptFileFormat,c=e.multiple,r=e.formGroupClassName,i=e.meta,o=c||!1;return Object(n.jsxs)("div",{className:"form-group ".concat(r),children:[Object(n.jsxs)("div",{className:"custom-file ".concat(Le(i)),children:[Object(n.jsx)("label",{className:"custom-file-label text-left",children:a}),Object(n.jsx)("input",Object(Ce.a)(Object(Ce.a)({},je.a.omit(t,"value")),{},{type:"file",className:"custom-file-input",multiple:o,accept:s}))]}),we(i)]})}({input:t,label:r,acceptFileFormat:o,multiple:l,formGroupClassName:p,meta:b}):"switch"===a?function(e){var t=e.input,a=e.label,s=e.formGroupClassName,c=e.meta;return Object(n.jsxs)("div",{className:"form-group ".concat(s),children:[Object(n.jsxs)("div",{className:"custom-control custom-switch ".concat(Le(c)),children:[Object(n.jsx)("input",Object(Ce.a)(Object(Ce.a)({},t),{},{type:"checkbox",className:"custom-control-input",id:"custom-switch-input"})),Object(n.jsx)("label",{className:"custom-control-label",htmlFor:"custom-switch-input",children:a})]}),we(c)]})}({input:t,label:r,formGroupClassName:p,meta:b}):""},Ae=function(e){var t=e.loading,a=e.originalText,s=e.loadingText,c=e.onClick,r=e.btnColor,i=e.type,o=e.ref;return i||(i="submit"),r||(r="primary"),t?Object(n.jsxs)("button",{className:"btn btn-".concat(r),type:i,ref:o,disabled:!0,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"\xa0\xa0",s]}):Object(n.jsx)("button",{className:"btn btn-".concat(r),type:i,ref:o,onClick:c,children:a})},Ie=a(121),Pe=a(122),Me=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={reduceLrOnPlateau:!1},e.toggleReduceLr=function(){e.setState({reduceLrOnPlateau:!e.state.reduceLrOnPlateau})},e.changeModelType=function(t){e.props.setTrainModelType({taskName:e.props.taskName,modelType:t})},e.changeDataSplit=function(t){e.props.setTrainDataSplit({taskName:e.props.taskName,dataSplit:t})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.configOptions,a=t.batchSizeLimit,s=a.min,c=a.max,r=t.numEpochsLimit,i=r.min,o=r.max;return Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit,children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col mx-auto",children:Object(n.jsx)(Ie.a,{name:"taskName",component:De,contentType:"text",placeholder:"Enter Task Name",formGroupClassName:"text-center",label:Object(n.jsx)("h4",{children:"Task Name"})})})}),Object(n.jsxs)("div",{className:"row mt-5",children:[Object(n.jsxs)("div",{className:"col-12 col-md-6 mr-auto text-center",children:[Object(n.jsx)("h4",{className:"mb-2",children:this.props.configOptions.modelFieldTitle}),Object(n.jsx)(Ne,{hoverButtons:this.props.configOptions.modelTypes,currentButtonValue:this.props.currentConfig.modelType,changeCurrentButtonValue:this.changeModelType,isSmall:!0})]}),Object(n.jsxs)("div",{className:"col-12 col-md-4 ml-auto mt-5 mt-md-0 text-center",children:[Object(n.jsx)("h4",{className:"mb-2",children:"Dataset Split"}),Object(n.jsx)(Ne,{hoverButtons:this.props.configOptions.dataSplit,currentButtonValue:this.props.currentConfig.dataSplit,changeCurrentButtonValue:this.changeDataSplit,isSmall:!0})]})]}),Object(n.jsx)("div",{className:"row mt-5",children:Object(n.jsxs)("div",{className:"col-12 col-md-6 mx-auto text-center",children:[Object(n.jsx)("h4",{className:"mb-2",children:"Callbacks"}),Object(n.jsx)(Ie.a,{name:"reduceLrOnPlateau",component:De,contentType:"switch",label:"Reduce LR on Plateau",onChange:function(){return e.toggleReduceLr()}})]})}),this.state.reduceLrOnPlateau?Object(n.jsxs)("div",{className:"form-group row mt-1 mb-5",children:[Object(n.jsx)("div",{className:"col-12 col-md-4 text-center",children:Object(n.jsx)(Ie.a,{name:"reduceLrOnPlateauPatience",component:De,contentType:"text",label:"Patience",placeholder:"Enter Patience"})}),Object(n.jsx)("div",{className:"col-12 col-md-4 my-3 my-md-0 text-center",children:Object(n.jsx)(Ie.a,{name:"reduceLrOnPlateauFactor",component:De,contentType:"text",label:"Factor",placeholder:"Enter Factor"})}),Object(n.jsx)("div",{className:"col-12 col-md-4 text-center",children:Object(n.jsx)(Ie.a,{name:"reduceLrOnPlateauMinLr",component:De,contentType:"text",label:"Minimum LR",placeholder:"Enter Min LR"})})]}):"",Object(n.jsxs)("div",{className:"form-group row my-5",children:[Object(n.jsx)("div",{className:"col-12 col-md-6 text-center",children:Object(n.jsx)(Ie.a,{name:"optimizer",component:De,contentType:"dropdown",label:"Optimizer",options:this.props.configOptions.optimizers})}),Object(n.jsx)("div",{className:"col-12 col-md-6 mt-3 mt-md-0 text-center",children:Object(n.jsx)(Ie.a,{name:"learningRate",component:De,contentType:"text",label:"Learning Rate",placeholder:"Enter LR"})})]}),Object(n.jsxs)("div",{className:"form-group row",children:[Object(n.jsx)("div",{className:"col-12 col-md-6 text-center",children:Object(n.jsx)(Ie.a,{name:"batchSize",component:De,contentType:"text",label:"Batch Size",placeholder:"Range: ".concat(s," - ").concat(c)})}),Object(n.jsx)("div",{className:"col-12 col-md-6 mt-3 mt-md-0 text-center",children:Object(n.jsx)(Ie.a,{name:"epochs",component:De,contentType:"text",label:"Epochs",placeholder:"Range: ".concat(i," - ").concat(o)})})]})]})}}]),a}(c.a.Component),Ee=Object(o.b)((function(e,t){var a=e[t.taskName],n=a.configOptions,s=a.currentConfig;return{configOptions:n,currentConfig:s,initialValues:s}}),{setTrainModelType:function(e){var t=e.taskName,a=e.modelType;return{type:"classification"===t?A:U,payload:a}},setTrainDataSplit:function(e){var t=e.taskName,a=e.dataSplit;return{type:"classification"===t?I:V,payload:a}}})(Object(Pe.a)({validate:function(e,t){var a=t.configOptions,n={};if(e.taskName?/^[a-zA-Z0-9- ]+$/i.test(e.taskName)||(n.taskName="Task name can contain only alphabets, numbers, hyphens and spaces"):n.taskName="You must enter a task name",e.reduceLrOnPlateau){var s=a.reduceLrOnPlateauLimit,c=s.factor,r=s.patience,i=s.minLr;e.reduceLrOnPlateauPatience?/^[0-9]+$/i.test(e.reduceLrOnPlateauPatience)?(e.reduceLrOnPlateauPatience<r.min||e.reduceLrOnPlateauPatience>r.max)&&(n.reduceLrOnPlateauPatience="Must be between ".concat(r.min," and ").concat(r.max)):n.reduceLrOnPlateauPatience="Must be an integer":n.reduceLrOnPlateauPatience="Enter a value",e.reduceLrOnPlateauFactor?/^[0-9]+(\.[0-9]+)*$/i.test(e.reduceLrOnPlateauFactor)?(e.reduceLrOnPlateauFactor<c.min||e.reduceLrOnPlateauFactor>c.max)&&(n.reduceLrOnPlateauFactor="Must be between ".concat(c.min," and ").concat(c.max)):n.reduceLrOnPlateauFactor="Enter a valid value":n.reduceLrOnPlateauFactor="Enter a value",e.reduceLrOnPlateauMinLr?/^[0-9]+(\.[0-9]+)*$/i.test(e.reduceLrOnPlateauMinLr)?e.reduceLrOnPlateauMinLr<i&&(n.reduceLrOnPlateauMinLr="Minimum value is ".concat(i)):n.reduceLrOnPlateauMinLr="Enter a valid value":n.reduceLrOnPlateauMinLr="Enter a value"}var o=a.learningRateLimit,l=o.min,u=o.max;e.learningRate?/^[0-9]+(\.[0-9]+)*$/i.test(e.learningRate)?(e.learningRate<l||e.learningRate>u)&&(n.learningRate="Must be between ".concat(l," and ").concat(u)):n.learningRate="Enter a valid value":n.learningRate="You must enter a learning rate";var d=a.batchSizeLimit,m=d.min,p=d.max;e.batchSize?/^[0-9]+$/i.test(e.batchSize)?(e.batchSize<m||e.batchSize>p)&&(n.batchSize="Must be between ".concat(m," and ").concat(p)):n.batchSize="Batch size must be an integer":n.batchSize="You must enter a batch size";var b=a.numEpochsLimit,j=b.min,h=b.max;return e.epochs?/^[0-9]+$/i.test(e.epochs)?(e.epochs<j||e.epochs>h)&&(n.epochs="Must be between ".concat(j," and ").concat(h)):n.epochs="Number of epochs must be an integer":n.epochs="You must enter the number of epochs",n}})(Me)),ze=a(127),Re=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={classValue:"",isSaved:!1},e.toggleSaveMode=function(){e.setState({isSaved:!e.state.isSaved})},e}return Object(m.a)(a,[{key:"onSubmit",value:function(){var e=this.state.isSaved;if(!e&&this.props.classList.includes(this.state.classValue))h.b.error(Object(n.jsxs)("div",{children:[Object(n.jsx)(K.b,{size:25}),'\xa0 A class with name "',this.state.classValue,'" already exists!']}));else{var t=this.state.classValue;e?(this.props.classifyDeleteClass(t),this.setState({classValue:""})):this.props.classifyAddClass(t),this.toggleSaveMode()}}},{key:"componentDidMount",value:function(){this.props.initialData&&this.setState(Object(Ce.a)({},this.props.initialData))}},{key:"render",value:function(){var e=this;return Object(n.jsx)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit()},className:"my-2",children:Object(n.jsxs)("div",{className:"input-group",children:[Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter class name".concat(this.props.isOptionalField?" (optional)":""),autoComplete:"off",onChange:function(t){return e.setState({classValue:t.target.value})},value:this.state.classValue,readOnly:this.state.isSaved,pattern:"[a-zA-Z0-9 ]+",title:"Only alphabets, numbers and spaces are allowed",required:!0}),Object(n.jsx)("div",{className:"input-group-append",children:this.state.isSaved?Object(n.jsx)("button",{className:"btn btn-danger",children:Object(n.jsx)(K.a,{})}):Object(n.jsx)("button",{className:"btn btn-outline-success",children:Object(n.jsx)(ze.a,{})})})]})})}}]),a}(c.a.Component),_e=Object(o.b)((function(e){var t=e.classification.dataset;return{classList:je.a.keys(t)}}),{classifyAddClass:function(e){return{type:P,payload:e}},classifyDeleteClass:function(e){return{type:M,payload:e}}})(Re),Be=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderClassList",value:function(){var e=this;return je.a.map(je.a.range(0,this.props.numClassesLimit.max),(function(t){var a=t>=e.props.numClassesLimit.min,s=null;return t<e.props.classList.length&&(s={classValue:e.props.classList[t],isSaved:!0}),Object(n.jsx)(_e,{form:"classForm",isOptionalField:a,initialData:s},t)}))}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{children:"Classes"}),Object(n.jsxs)("small",{children:["Number of classes must be within the"," ",Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:["range ",this.props.numClassesLimit.min," -"," ",this.props.numClassesLimit.max]})})]}),this.renderClassList()]})}}]),a}(c.a.Component),Ue=Object(o.b)((function(e){var t=e.classification,a=t.dataset,n=t.configOptions.numClassesLimit;return{classList:je.a.keys(a),numClassesLimit:n}}))(Be),Ve=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classList;return Object(n.jsx)("form",{children:Object(n.jsx)("div",{className:"row mt-3",children:Object(n.jsx)("div",{className:"col-8 mx-auto",children:Object(n.jsx)(Ie.a,{name:"classChoice",component:De,contentType:"dropdown",options:Object(Ce.a)({default:"Choose a class..."},je.a.zipObject(e,e))})})})})}}]),a}(c.a.Component),Ge=Object(o.b)((function(e){var t=e.classification.dataset;return{classList:je.a.keys(t)}}))(Object(Pe.a)({form:"classificationClassChoiceForm",enableReinitialize:!0,onChange:function(e,t,a){a.submit()}})(Ve)),Ye=a(70),He=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:!this.props.currentClass||this.props.numImagesExceeded||this.props.sizeExceeded?"":Object(n.jsx)("form",{children:Object(n.jsx)("div",{className:"row mt-3",children:Object(n.jsxs)("div",{className:"col-5 mx-auto",children:[Object(n.jsx)(Ye.a,{size:30,className:"mb-3"}),Object(n.jsx)(Ie.a,{name:"classImages",component:De,contentType:"file",label:"Choose File",acceptFileFormat:"image/jpeg,image/png",multiple:!0})]})})})})}}]),a}(c.a.Component),qe=Object(o.b)((function(e){var t=e.classification,a=t.currentClass,n=t.dataset,s=t.datasetSize,c=t.configOptions,r=c.numImagesLimit.max,i=c.sizeLimit;return{currentClass:a,numImagesExceeded:!!n[a]&&n[a].length>=r,sizeExceeded:!!s[a]&&s[a]>=i}}))(Object(Pe.a)({form:"classificationDataUploadForm",onChange:function(e,t,a){a.submit()}})(He)),$e=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderCard",value:function(e,t){return Object(n.jsx)("div",{className:"col mb-3",children:Object(n.jsx)("div",{className:"card card-hover shadow bg-white rounded",style:{width:"5rem"},children:Object(n.jsx)("img",{src:e,className:"card-img-top",alt:"data-".concat(t)})})},t)}},{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:this.props.imgList?Object(n.jsx)("div",{className:"row row-cols-1 row-cols-md-3 row-cols-lg-4 row-cols-xl-6 mt-5 mx-auto",children:je.a.map(this.props.imgList,(function(t,a){return e.renderCard(t,a)}))}):""})}}]),a}(c.a.Component),Je=Object(o.b)((function(e){var t=e.classification,a=t.currentClass;return{imgList:t.datasetPreview[a]}}))($e),We=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onClassChoiceSubmit=function(t){e.props.classifyCurrentClass(je.a.values(t)[0])},e.fileListToArray=function(t){var a=Array.from(t);return e.props.currentClassImgCount+a.length>e.props.numImagesLimit.max&&(a=a.slice(0,e.props.numImagesLimit.max-e.props.currentClassImgCount)),a},e.getImageListSize=function(e){var t=0;return e.length>0&&(t=je.a.sumBy(["size"],je.a.partial(je.a.sumBy,e))),t},e.imageListToBase64=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.length)){e.next=11;break}return e.t0=a,e.next=6,Se(t[n]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:n++,e.next=2;break;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.removeBase64HeaderFromImageList=function(e){return je.a.map(e,(function(e){return Te(e)}))},e.onDataUploadSubmit=function(){var t=Object(v.a)(g.a.mark((function t(a){var s,c,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.fileListToArray(je.a.values(a)[0]),c=e.getImageListSize(s),!(e.props.currentSize+c>=e.props.sizeLimit)){t.next=6;break}h.b.info(Object(n.jsxs)("div",{children:[Object(n.jsx)(K.b,{size:25}),"\xa0 Cannot upload images. Total size of the images for this class are exceeding ",e.props.sizeLimit/1e6," MB."]})),t.next=12;break;case 6:if(!(s.length>0)){t.next=12;break}return t.next=9,e.imageListToBase64(s);case 9:r=t.sent,s=e.removeBase64HeaderFromImageList(r),e.props.classifyAddImages({imagesList:s,imagesListPreview:r,imagesListSize:c});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{children:"Images"}),Object(n.jsxs)("small",{children:["Number of images for each class must be within the"," ",Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:["range ",this.props.numImagesLimit.min," -"," ",this.props.numImagesLimit.max]})}),"."]}),Object(n.jsx)("br",{}),Object(n.jsxs)("small",{children:["If you upload more than ",this.props.numImagesLimit.max," images then only the"," ",Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:["first ",this.props.numImagesLimit.max," images"]})})," ","will be considered."]}),Object(n.jsx)("br",{}),Object(n.jsxs)("small",{children:["The total size of the images for each class must be"," ",Object(n.jsx)("mark",{children:Object(n.jsxs)("b",{children:["less than ",this.props.sizeLimit/1e6," MB"]})}),"."]}),Object(n.jsx)(Ge,{onSubmit:this.onClassChoiceSubmit,initialValues:{classChoice:this.props.currentClass}}),Object(n.jsx)(qe,{onSubmit:this.onDataUploadSubmit}),Object(n.jsx)(Je,{})]})}}]),a}(c.a.Component),Ze=Object(o.b)((function(e){var t=e.classification,a=t.currentClass,n=t.dataset,s=t.datasetSize,c=t.configOptions;return{currentClass:a,numImagesLimit:c.numImagesLimit,sizeLimit:c.sizeLimit,currentSize:s[a],currentClassImgCount:n[a]?n[a].length:0}}),{classifyCurrentClass:function(e){return{type:E,payload:e}},classifyAddImages:function(e){var t=e.imagesList,a=e.imagesListSize,n=e.imagesListPreview;return{type:z,payload:{imagesList:t,imagesListSize:a,imagesListPreview:n}}}})(We),Ke=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderContent",value:function(){return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col col-md-4 text-center",children:Object(n.jsx)(Ue,{})}),Object(n.jsx)("div",{className:"col col-md-8 text-center",children:Object(n.jsx)(Ze,{})})]})}},{key:"render",value:function(){var e=this;return i.a.createPortal(Object(n.jsx)("div",{className:"modal-container",onClick:function(){return e.props.onDismiss()},children:Object(n.jsxs)("div",{className:"modal-body",style:{width:"60%",maxHeight:"calc(100vh - 20vh)"},onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{className:"text-center",children:"Upload Dataset"}),Object(n.jsx)("hr",{className:"w-100"}),this.renderContent(),Object(n.jsx)("hr",{className:"w-100"}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col text-right",children:[Object(n.jsx)("button",{className:"btn btn-success mr-2",onClick:function(){e.props.onDismiss()},children:"Save Dataset"}),Object(n.jsx)("button",{className:"btn btn-warning mr-2",onClick:function(){return e.props.onDismiss(!0)},children:"Go Back"})]})})]})}),document.querySelector("#modal"))}}]),a}(c.a.Component),Xe=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={displayModal:!1},e.toggleModal=function(){e.setState({displayModal:!e.state.displayModal})},e.onModalDismiss=function(t){t&&e.props.clearTrainData(e.props.taskName),e.toggleModal()},e.checkNumClasses=function(){var t=e.props,a=t.configOptions.numClassesLimit.min,s=t.dataset;return!(je.a.keys(s).length<a)||(h.b.dark(Object(n.jsxs)("div",{children:[Object(n.jsx)(K.b,{size:25,color:"yellow"}),"\xa0 You need to create a minimum of ",a," classes."]})),!1)},e.checkNumImages=function(){var t=e.props,a=t.configOptions.numImagesLimit.min,s=t.dataset,c=je.a.values(s),r=je.a.sum(je.a.map(c,(function(e){return e.length<a?0:1})));return c.length===r||(h.b.dark(Object(n.jsxs)("div",{children:[Object(n.jsx)(K.b,{size:25,color:"yellow"}),"\xa0 You need to upload atleast ",a," images per class."]})),!1)},e.onConfigSubmit=function(t){if(e.checkNumClasses()&&e.checkNumImages()){var a=e.props,n=a.dataset,s=a.currentConfig,c=s.modelType,r=s.dataSplit;e.props.onSubmit(Object(Ce.a)(Object(Ce.a)({mode:"training",taskType:e.props.taskName},t),{},{modelType:c,dataSplit:r,dataset:n}))}},e}return Object(m.a)(a,[{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.state.displayModal?Object(n.jsx)(Ke,{onDismiss:this.onModalDismiss}):""})}},{key:"render",value:function(){var e=this;return je.a.isEmpty(this.props.configOptions)?Object(n.jsx)(n.Fragment,{children:ke("Loading")}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ee,{taskName:this.props.taskName,form:this.props.formName,onSubmit:this.onConfigSubmit}),Object(n.jsx)("div",{className:"row my-5 text-center",children:Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("button",{className:"btn btn-dark",onClick:function(t){t.preventDefault(),e.toggleModal()},disabled:this.props.loadingForm.includes(this.props.formName),children:"Create Dataset"})})}),Object(n.jsx)("div",{className:"row mt-5 text-center",children:Object(n.jsx)("div",{className:"col",children:Ae({loading:this.props.loadingForm.includes(this.props.formName),btnColor:"success",originalText:"Start Training!",loadingText:"Uploading config...",onClick:function(){return e.props.dispatch(Object(y.b)(e.props.formName))}})})}),this.renderModal()]})}}]),a}(c.a.Component),Qe=Object(o.b)((function(e){var t=e.loadingForm,a=e.classification;return{loadingForm:t,configOptions:a.configOptions,currentConfig:a.currentConfig,dataset:a.dataset}}),(function(e){return Object(Ce.a)({dispatch:e},Object(l.b)({clearTrainData:de},e))}))(Xe),et=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderContent",value:function(){return Object(n.jsxs)("div",{className:"row my-4",children:[Object(n.jsx)("div",{className:"col-12 mb-4",children:"Your dataset and model configuration has been successfully uploaded to the server for training."}),Object(n.jsx)("div",{className:"col-12",children:Object(n.jsxs)("h5",{children:[Object(n.jsx)("b",{children:"Token:"}),"\xa0\xa0\xa0 ",this.props.token]})}),Object(n.jsx)("div",{className:"col-12 mt-4",children:"Please copy and save the token provided above. It will be required for testing the model on the inference page."}),Object(n.jsxs)("div",{className:"col-12 mt-4",children:["Note:",Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"The model shall be trained and available for inference in 5-10 minutes depending upon the size of your dataset."}),Object(n.jsx)("li",{children:"Trained models are available for testing only upto one hour starting from the point when they are made available for inference."})]})]})]})}},{key:"render",value:function(){var e=this;return i.a.createPortal(Object(n.jsx)("div",{className:"modal-container",children:Object(n.jsxs)("div",{className:"modal-body",style:{width:"40%",maxHeight:"calc(100vh - 20vh)"},onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{className:"text-center",children:"Upload Successful"}),Object(n.jsx)("hr",{className:"w-100"}),this.renderContent(),Object(n.jsx)("hr",{className:"w-100"}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col text-right",children:Object(n.jsx)("button",{className:"btn btn-success mr-2",onClick:function(){return e.props.onDismiss(!0)},children:"Dismiss"})})})]})}),document.querySelector("#modal"))}}]),a}(c.a.Component),tt=Object(o.b)((function(e){return{token:e.serverConfig.token}}))(et),at=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){n.props.submitTrainRequest({formName:n.formName,trainConfig:e})},n.onModalDismiss=function(){n.props.clearTrainData(n.taskName),n.props.clearTrainToken(),f.push("/inference")},n.taskName="classification",n.formName="".concat(n.taskName,"ConfigForm"),n.configOptions={modelTypes:["MobileNet v2","ResNet34"],modelFieldTitle:"Model",numClassesLimit:{min:2,max:10},numImagesLimit:{min:10,max:100},sizeLimit:1e7},n.currentConfig=Object(Ce.a)({modelType:"MobileNet v2",dataSplit:"70 : 30",optimizer:"sgd",learningRate:.01},n.props.currentTrainConfig),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.setTrainConfig({taskName:this.taskName,config:Object(Ce.a)(Object(Ce.a)(Object(Ce.a)({},this.props.trainConfigOptions),this.configOptions),{},{currentConfig:this.currentConfig})})}},{key:"componentWillUnmount",value:function(){this.props.clearTrainConfig(this.taskName)}},{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.props.token?Object(n.jsx)(tt,{onDismiss:this.onModalDismiss}):""})}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"card mx-auto mt-4",style:{width:"22rem"},children:Object(n.jsx)("img",{src:"".concat("/Flash","/assets/images/imageClassification.gif"),className:"card-img-top",alt:"source"})}),Object(n.jsx)("div",{className:"row mt-5",children:Object(n.jsx)("div",{className:"col-6 mx-auto",children:Object(n.jsx)(Qe,{taskName:this.taskName,formName:this.formName,onSubmit:this.onSubmit})})}),this.renderModal()]})}}]),a}(c.a.Component),nt=Object(o.b)((function(e){return{token:e.serverConfig.token}}),{clearTrainToken:le,setTrainConfig:ue,submitTrainRequest:pe,clearTrainData:de,clearTrainConfig:me})(at),st=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)(Ie.a,Object(Ce.a)(Object(Ce.a)({},je.a.omit(this.props.fieldConfig,"label","hideFilename")),{},{label:this.props.fieldLabel?this.props.fieldLabel:this.props.fieldConfig.label,onChange:function(t){e.props.hideFilename||e.props.setFormFileFieldLabel({taskName:e.props.taskName,label:t.target.files[0].name})}}))}}]),a}(c.a.Component),ct=Object(o.b)((function(e,t){return{fieldLabel:e.formFileField[t.taskName]}}),{setFormFileFieldLabel:function(e){var t=e.taskName,a=e.label;return{type:T,payload:{taskName:t,label:a}}}})(st),rt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"row text-center",children:[Object(n.jsx)("div",{className:"col-12 mb-4",children:Object(n.jsx)("h4",{children:"Upload Dataset"})}),Object(n.jsx)("div",{className:"col col-md-8 mx-auto",children:Object(n.jsxs)("form",{children:[Object(n.jsx)(Ye.a,{size:30,className:"mb-3"}),Object(n.jsx)(ct,{taskName:this.props.taskName,fieldConfig:{name:"saCsvData",component:De,contentType:"file",label:"Choose File",acceptFileFormat:".csv, text/csv"}})]})})]})}}]),a}(c.a.Component),it=Object(Pe.a)({form:"saDataUploadForm",onChange:function(e,t,a){a.submit()}})(rt),ot=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onDataUploadSubmit=function(){var t=Object(v.a)(g.a.mark((function t(a){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((s=a.saCsvData).length>0)){t.next=13;break}if(!((s=s[0]).size>e.props.sizeLimit)){t.next=7;break}h.b.info(Object(n.jsxs)("div",{children:[Object(n.jsx)(K.b,{size:25}),"\xa0 Cannot upload the file. Total size of the dataset is exceeding ",e.props.sizeLimit/1e6," MB."]})),t.next=13;break;case 7:return t.t0=Te,t.next=10,Se(s);case 10:t.t1=t.sent,s=(0,t.t0)(t.t1),e.props.saAddData(s);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"renderContent",value:function(){return Object(n.jsx)("div",{className:"row px-3",children:Object(n.jsxs)("div",{className:"col text-justify",children:[Object(n.jsxs)("p",{children:["Upload the dataset as a ",Object(n.jsx)("b",{children:"CSV (Comma-Separated Values)"})," file with ",Object(n.jsx)("b",{children:"two columns"}),":"," ",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"input"})})," ","and",Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"label"})})]}),"Column Description:",Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"input"})}),": Contains input sentences"]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("mark",{children:Object(n.jsx)("b",{children:"label"})}),": Contains the label (sentiment) for the corresponding input sentences."]})]}),Object(n.jsxs)("p",{children:["NOTE: The CSV file must contain"," ",Object(n.jsxs)("b",{children:["less than ",this.props.numRows," rows"]})," and its size must be"," ",Object(n.jsxs)("b",{children:["less than ",this.props.sizeLimit/1e6," MB"]})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col col-md-6",children:[Object(n.jsx)("h4",{className:"mb-3 text-center",children:"Example Dataset Preview"}),Object(n.jsx)("div",{className:"card shadow bg-white rounded mx-auto",style:{width:"25rem"},children:Object(n.jsx)("img",{src:"".concat("/Flash","/assets/images/saDataPreview.png"),className:"card-img-top",alt:"sentiment analysis example dataset preview"})})]}),Object(n.jsx)("div",{className:"col col-md-6",children:Object(n.jsx)(it,{onSubmit:this.onDataUploadSubmit,taskName:this.props.taskName})})]})]})})}},{key:"render",value:function(){var e=this;return i.a.createPortal(Object(n.jsx)("div",{className:"modal-container",onClick:function(){return e.props.onDismiss()},children:Object(n.jsxs)("div",{className:"modal-body",style:{width:"50%",maxHeight:"calc(100vh - 20vh)"},onClick:function(e){return e.stopPropagation()},children:[Object(n.jsx)("h3",{className:"text-center",children:"Upload Dataset"}),Object(n.jsx)("hr",{className:"w-100"}),this.renderContent(),Object(n.jsx)("hr",{className:"w-100"}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col text-right",children:[Object(n.jsx)("button",{className:"btn btn-success mr-2",onClick:function(){e.props.onDismiss()},children:"Save Dataset"}),Object(n.jsx)("button",{className:"btn btn-warning mr-2",onClick:function(){return e.props.onDismiss(!0)},children:"Go Back"})]})})]})}),document.querySelector("#modal"))}}]),a}(c.a.Component),lt=Object(o.b)((function(e){var t=e.sentimentAnalysis.configOptions;return{sizeLimit:t.sizeLimit,numRows:t.numRows}}),{saAddData:function(e){return{type:G,payload:e}}})(ot),ut=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={displayModal:!1},e.toggleModal=function(){e.setState({displayModal:!e.state.displayModal})},e.onModalDismiss=function(t){t&&e.props.clearTrainData(e.props.taskName),e.toggleModal()},e.checkDataset=function(){return!!e.props.dataset||(h.b.dark(Object(n.jsxs)("div",{children:[Object(n.jsx)(K.b,{size:25,color:"yellow"}),"\xa0 Please upload a dataset."]})),!1)},e.onConfigSubmit=function(t){if(e.checkDataset()){var a=e.props,n=a.dataset,s=a.currentConfig,c=s.modelType,r=s.dataSplit;e.props.onSubmit(Object(Ce.a)(Object(Ce.a)({mode:"training",taskType:e.props.taskName},t),{},{modelType:c,dataSplit:r,dataset:n}))}},e}return Object(m.a)(a,[{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.state.displayModal?Object(n.jsx)(lt,{onDismiss:this.onModalDismiss,taskName:this.props.taskName}):""})}},{key:"render",value:function(){var e=this;return je.a.isEmpty(this.props.configOptions)?Object(n.jsx)(n.Fragment,{children:ke("Loading")}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ee,{taskName:this.props.taskName,form:this.props.formName,onSubmit:this.onConfigSubmit}),Object(n.jsx)("div",{className:"row my-5 text-center",children:Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("button",{className:"btn btn-dark",onClick:function(t){t.preventDefault(),e.toggleModal()},disabled:this.props.loadingForm.includes(this.props.formName),children:"Upload Dataset"})})}),Object(n.jsx)("div",{className:"row mt-5 text-center",children:Object(n.jsx)("div",{className:"col",children:Ae({loading:this.props.loadingForm.includes(this.props.formName),btnColor:"success",originalText:"Start Training!",loadingText:"Uploading config...",onClick:function(){return e.props.dispatch(Object(y.b)(e.props.formName))}})})}),this.renderModal()]})}}]),a}(c.a.Component),dt=Object(o.b)((function(e){var t=e.loadingForm,a=e.sentimentAnalysis;return{loadingForm:t,configOptions:a.configOptions,currentConfig:a.currentConfig,dataset:a.dataset}}),(function(e){return Object(Ce.a)({dispatch:e},Object(l.b)({clearTrainData:de},e))}))(ut),mt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){n.props.submitTrainRequest({formName:n.formName,trainConfig:e})},n.onModalDismiss=function(){n.props.clearTrainData(n.taskName),n.props.clearTrainToken(),f.push("/inference")},n.taskName="sentimentAnalysis",n.formName="".concat(n.taskName,"ConfigForm"),n.configOptions={modelTypes:["LSTM","GRU"],modelFieldTitle:"RNN Type",numRows:1e4,sizeLimit:1e6},n.currentConfig=Object(Ce.a)({modelType:"LSTM",dataSplit:"70 : 30",optimizer:"adam",learningRate:.001},n.props.currentTrainConfig),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.setTrainConfig({taskName:this.taskName,config:Object(Ce.a)(Object(Ce.a)(Object(Ce.a)({},this.props.trainConfigOptions),this.configOptions),{},{currentConfig:this.currentConfig})})}},{key:"componentWillUnmount",value:function(){this.props.clearTrainConfig(this.taskName)}},{key:"renderModal",value:function(){return Object(n.jsx)(n.Fragment,{children:this.props.token?Object(n.jsx)(tt,{onDismiss:this.onModalDismiss}):""})}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"card mx-auto mt-4",style:{width:"24rem"},children:Object(n.jsx)("img",{src:"".concat("/Flash","/assets/images/sentimentAnalysis.gif"),className:"card-img-top",alt:"source"})}),Object(n.jsx)("div",{className:"row mt-5",children:Object(n.jsx)("div",{className:"col-6 mx-auto",children:Object(n.jsx)(dt,{taskName:this.taskName,formName:this.formName,onSubmit:this.onSubmit})})}),this.renderModal()]})}}]),a}(c.a.Component),pt=Object(o.b)((function(e){return{token:e.serverConfig.token}}),{clearTrainToken:le,setTrainConfig:ue,clearTrainConfig:me,submitTrainRequest:pe,clearTrainData:de})(mt),bt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).changeCurrentTask=function(e){n.state.currentTask!==e&&n.setState({currentTask:e})},n.hoverButtons=[{buttonValue:"classification",buttonText:"Image Classification"},{buttonValue:"sentiment",buttonText:"Sentiment Analysis"}],n.trainConfigOptions={dataSplit:["70 : 30","80 : 20"],batchSizeLimit:{min:1,max:256},numEpochsLimit:{min:1,max:20},optimizers:{adam:"Adam",sgd:"SGD"},learningRateLimit:{min:1e-5,max:2},reduceLrOnPlateauLimit:{factor:{min:.01,max:.5},patience:{min:1,max:20},minLr:1e-5}},n.currentTrainConfig={reduceLrOnPlateau:!1,reduceLrOnPlateauPatience:5,reduceLrOnPlateauFactor:.1,reduceLrOnPlateauMinLr:1e-5},n.state={currentTask:"classification"},n}return Object(m.a)(a,[{key:"renderCurrentTask",value:function(){return"classification"===this.state.currentTask?Object(n.jsx)(nt,{trainConfigOptions:this.trainConfigOptions,currentTrainConfig:this.currentTrainConfig}):Object(n.jsx)(pt,{trainConfigOptions:this.trainConfigOptions,currentTrainConfig:this.currentTrainConfig})}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("h1",{className:"heading",children:"Train a Model"})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col text-center",children:Object(n.jsx)(Ne,{hoverButtons:this.hoverButtons,currentButtonValue:this.state.currentTask,changeCurrentButtonValue:this.changeCurrentTask})})}),this.renderCurrentTask()]})}}]),a}(c.a.Component),jt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).onSubmit=function(t){e.props.token?(e.props.clearInferenceConfig(),e.props.dispatch(Object(y.a)(e.props.form))):e.props.submitInferenceToken({formName:e.props.form,token:t.token})},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"row mb-1 mt-3 py-5",children:Object(n.jsx)("div",{className:"col-10 col-md-6 mx-auto",children:this.props.token?Object(n.jsx)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"mb-4",children:Object(n.jsx)(Ie.a,{name:"token",component:De,contentType:"text",label:"Token",textAppend:Object(n.jsx)(K.a,{}),enableAppendSubmit:!0,isFixed:!0})}):Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),children:[Object(n.jsx)(Ie.a,{name:"token",component:De,contentType:"text",placeholder:"Enter Token"}),Object(n.jsx)("div",{className:"row mt-3",children:Object(n.jsx)("div",{className:"col text-right",children:Ae({loading:this.props.loadingForm.includes(this.props.form),originalText:"Validate Token",loadingText:"Validating..."})})})]})})})}}]),a}(c.a.Component),ht=Object(o.b)((function(e){return{loadingForm:e.loadingForm,token:e.inference.token}}),{submitInferenceToken:function(e){var t=e.formName,a=e.token;return function(){var e=Object(v.a)(g.a.mark((function e(n){var s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&n(re(t)),(s=new FormData).append("token",JSON.stringify({token:a})),e.next=5,ae({url:"/check",formData:s,requestType:"post",apiType:"inference"});case 5:c=e.sent,ce(c)&&n({type:q,payload:{token:a,taskType:c.data.taskType,accuracy:c.data.accuracy,accuracyPlot:c.data.accuracyPlot}}),t&&n(ie(t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearInferenceConfig:function(){return{type:$}}})(Object(Pe.a)({form:"tokenForm",validate:function(e){var t={};return e.token?/^[a-zA-Z0-9- ]+$/i.test(e.token)||(t.token="Invalid token"):t.token="You must enter a token",t}})(jt)),Ot=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).onSubmit=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.inferenceInput,e.props.clearInferencePrediction(),s="text","object"!==typeof n){t.next=8;break}return s="image",t.next=7,Se(n[0]);case 7:n=t.sent;case 8:e.props.submitInferenceData({formName:e.props.form,formInput:{token:e.props.token,input:"image"===s?Te(n):n}}),e.props.onSubmit(n);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.field,t=e.contentType,a=e.label,s=e.acceptFileFormat;return Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),children:["file"===t?Object(n.jsx)(ct,{taskName:this.props.taskName,fieldConfig:{name:"inferenceInput",component:De,contentType:t,label:a,acceptFileFormat:s}}):Object(n.jsx)(Ie.a,{name:"inferenceInput",component:De,contentType:t,label:a}),Object(n.jsxs)("div",{className:"row mt-3",children:[Object(n.jsx)("div",{className:"col mx-auto",children:Ae({loading:this.props.loadingForm.includes(this.props.form),originalText:"Predict",loadingText:"Predicting..."})}),Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("small",{children:"*The model might take more than 1 min to give predictions for the first time."})})]})]})}}]),a}(c.a.Component),ft=Object(o.b)((function(e){return{loadingForm:e.loadingForm,token:e.inference.token}}),{submitInferenceData:function(e){var t=e.formName,a=e.formInput;return function(){var e=Object(v.a)(g.a.mark((function e(n){var s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&n(re(t)),(s=new FormData).append("inferenceInput",JSON.stringify(a)),e.next=5,ae({url:"/inference",formData:s,requestType:"post",apiType:"inference",maxNumTries:3});case 5:c=e.sent,ce(c)&&n({type:J,payload:c.data.prediction}),t&&n(ie(t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearInferencePrediction:function(){return{type:W}}})(Object(Pe.a)({form:"inferenceForm",validate:function(e){var t={};return e.inferenceInput||(t.inferenceInput="This field cannot be empty"),t}})(Ot)),xt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(d.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){n.props.taskType,n.setState({inferenceInput:e})},n.state={inferenceInput:null};var s={};return s="classification"===n.props.taskType?{contentType:"file",label:"Upload Image",acceptFileFormat:"image/jpeg,image/png"}:{contentType:"text",label:"Enter Text:"},n.fieldValues=s,n}return Object(m.a)(a,[{key:"renderAccuracy",value:function(){return Object(n.jsxs)("div",{className:"row my-5",children:[Object(n.jsx)("div",{className:"col-12 col-md-2"}),Object(n.jsx)("div",{className:"col-12 col-md-3 my-auto text-center",children:Object(n.jsxs)("div",{className:"ml-auto",children:[Object(n.jsx)("h5",{children:"Accuracy"}),Object(n.jsxs)("h5",{children:[(this.props.accuracy*(this.props.accuracy<1?100:1)).toFixed(2)," ","%"]})]})}),Object(n.jsxs)("div",{className:"col-12 col-md-6 mt-5 mt-md-0",children:[Object(n.jsx)("h5",{className:"text-center mb-3",children:"Accuracy Change Plot"}),Object(n.jsx)("div",{className:"card shadow bg-white rounded mx-auto",style:{width:"28rem"},children:Object(n.jsx)("img",{src:"data:image/jpeg;base64,".concat(this.props.accuracyPlot),className:"card-img-top",alt:"sentiment analysis example dataset preview"})})]}),Object(n.jsx)("div",{className:"col-12 col-md-1"})]})}},{key:"renderOutput",value:function(){return Object(n.jsxs)("div",{className:"row mt-5",children:[Object(n.jsxs)("div",{className:"col-12 col-lg-6 mt-4 ml-auto text-center",children:[Object(n.jsx)("h4",{className:"text-center",children:"Input"}),"classification"===this.props.taskType?Object(n.jsx)("div",{className:"card mx-auto mt-3 shadow bg-white rounded",style:{width:"20rem"},children:Object(n.jsx)("img",{src:this.state.inferenceInput,className:"card-img-top",alt:"source"})}):Object(n.jsx)("div",{className:"card mx-auto shadow p-3 bg-white rounded",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("h5",{className:"card-text",children:this.state.inferenceInput})})})]}),Object(n.jsxs)("div",{className:"col-12 col-lg-6 mt-5 mt-md-4 mr-auto text-center",children:[Object(n.jsx)("h4",{className:"text-center",children:"Prediction"}),Object(n.jsx)("div",{className:"card mx-auto mt-3 shadow bg-white rounded",children:Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("h5",{className:"card-title",children:this.props.prediction})})})]})]})}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row mb-4",children:Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("h4",{className:"text-center",children:"classification"===this.props.taskType?"Image Classification":"Sentiment Analysis"})})}),this.renderAccuracy(),Object(n.jsx)("div",{className:"row mb-4",children:Object(n.jsx)("div",{className:"col-11 col-lg-6 mx-auto",children:Object(n.jsx)(ft,{onSubmit:this.onSubmit,taskName:this.props.taskName,field:this.fieldValues})})}),this.props.prediction?this.renderOutput():""]})}}]),a}(c.a.Component),gt=Object(o.b)((function(e){var t=e.inference;return{taskType:t.taskType,prediction:t.prediction,accuracy:t.accuracy,accuracyPlot:t.accuracyPlot}}))(xt),vt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).taskName="inference",n}return Object(m.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clearInference(this.taskName)}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col",children:[Object(n.jsx)("h1",{className:"heading",children:"Test Your Model"}),Object(n.jsx)(ht,{}),this.props.token?Object(n.jsx)(gt,{taskName:this.taskName}):""]})})})}}]),a}(c.a.Component),yt=Object(o.b)((function(e){return{token:e.inference.token}}),{clearInference:function(e){return function(t){t(oe(e)),t({type:Z})}}})(vt),Nt=(a(280),a(281),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"page-container",children:[Object(n.jsxs)("div",{className:"content-wrap",children:[Object(n.jsx)(h.a,{position:"top-center",autoClose:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,style:{width:"40%"}}),Object(n.jsxs)(j.b,{history:f,children:[Object(n.jsx)(ve,{}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/",exact:!0,component:xe}),Object(n.jsx)(j.a,{path:"/training",exact:!0,component:bt}),Object(n.jsx)(j.a,{path:"/inference",exact:!0,component:yt})]})]})]}),Object(n.jsx)(ye,{})]})}}]),a}(c.a.Component)),Ct=a(123),kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return!0;case C:return!1;default:return e}},St=a(42),Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return[].concat(Object(St.a)(e),[t.payload]);case S:return e.filter((function(e){return e!==t.payload}));default:return e}},Lt=a(31),wt={},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(Ce.a)(Object(Ce.a)({},e),{},Object(Lt.a)({},t.payload.taskName,t.payload.label));case L:return je.a.omit(e,t.payload);default:return e}},Dt={configOptions:{},currentClass:"",currentConfig:{modelType:"",dataSplit:""},dataset:{},datasetSize:{},datasetPreview:{}},At=function(){var e,t,a,n,s,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case D:return Object(Ce.a)(Object(Ce.a)({},c),{},{configOptions:je.a.omit(r.payload,"currentConfig"),currentConfig:r.payload.currentConfig});case A:return n=Object(Ce.a)(Object(Ce.a)({},c.currentConfig),{},{modelType:r.payload}),Object(Ce.a)(Object(Ce.a)({},c),{},{currentConfig:n});case I:return n=Object(Ce.a)(Object(Ce.a)({},c.currentConfig),{},{dataSplit:r.payload}),Object(Ce.a)(Object(Ce.a)({},c),{},{currentConfig:n});case P:return e=Object(Ce.a)(Object(Ce.a)({},c.dataset),{},Object(Lt.a)({},r.payload,[])),t=Object(Ce.a)(Object(Ce.a)({},c.datasetSize),{},Object(Lt.a)({},r.payload,0)),a=Object(Ce.a)(Object(Ce.a)({},c.datasetPreview),{},Object(Lt.a)({},r.payload,[])),Object(Ce.a)(Object(Ce.a)({},c),{},{dataset:e,datasetSize:t,datasetPreview:a});case M:return e=je.a.omit(c.dataset,r.payload),t=je.a.omit(c.datasetSize,r.payload),a=je.a.omit(c.datasetPreview,r.payload),s=c.currentClass===r.payload?Dt.currentClass:c.currentClass,Object(Ce.a)(Object(Ce.a)({},c),{},{dataset:e,datasetSize:t,datasetPreview:a,currentClass:s});case E:return Object(Ce.a)(Object(Ce.a)({},c),{},{currentClass:r.payload});case z:return e=Object(Ce.a)(Object(Ce.a)({},c.dataset),{},Object(Lt.a)({},c.currentClass,[].concat(Object(St.a)(c.dataset[c.currentClass]),Object(St.a)(r.payload.imagesList)))),t=Object(Ce.a)(Object(Ce.a)({},c.datasetSize),{},Object(Lt.a)({},c.currentClass,c.datasetSize[c.currentClass]+r.payload.imagesListSize)),a=Object(Ce.a)(Object(Ce.a)({},c.datasetPreview),{},Object(Lt.a)({},c.currentClass,[].concat(Object(St.a)(c.datasetPreview[c.currentClass]),Object(St.a)(r.payload.imagesListPreview)))),Object(Ce.a)(Object(Ce.a)({},c),{},{dataset:e,datasetSize:t,datasetPreview:a});case R:return Object(Ce.a)(Object(Ce.a)({},c),je.a.omit(Dt,"configOptions","currentConfig"));case _:return Object(Ce.a)(Object(Ce.a)({},c),Dt);default:return c}},It={configOptions:{},currentConfig:{modelType:"",dataSplit:""},dataset:null},Pt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case B:return Object(Ce.a)(Object(Ce.a)({},t),{},{configOptions:je.a.omit(a.payload,"currentConfig"),currentConfig:a.payload.currentConfig});case U:return e=Object(Ce.a)(Object(Ce.a)({},t.currentConfig),{},{modelType:a.payload}),Object(Ce.a)(Object(Ce.a)({},t),{},{currentConfig:e});case V:return e=Object(Ce.a)(Object(Ce.a)({},t.currentConfig),{},{dataSplit:a.payload}),Object(Ce.a)(Object(Ce.a)({},t),{},{currentConfig:e});case G:return Object(Ce.a)(Object(Ce.a)({},t),{},{dataset:a.payload});case Y:return Object(Ce.a)(Object(Ce.a)({},t),je.a.omit(It,"configOptions","currentConfig"));case H:return Object(Ce.a)(Object(Ce.a)({},t),It);default:return t}},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(Ce.a)(Object(Ce.a)({},e),{},{token:t.payload});case F:return Object(Ce.a)(Object(Ce.a)({},e),{},{token:""});default:return e}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(Ce.a)(Object(Ce.a)({},e),t.payload);case $:return je.a.omit(e,"token","prediction","accuracy","accuracyPlot");case J:return Object(Ce.a)(Object(Ce.a)({},e),{},{prediction:t.payload});case W:return je.a.omit(e,"prediction");case Z:return{};default:return e}},zt=Object(l.c)({form:Ct.a,isHome:kt,loadingForm:Tt,formFileField:Ft,classification:At,sentimentAnalysis:Pt,serverConfig:Mt,inference:Et}),Rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,_t=Object(l.e)(zt,Rt(Object(l.a)(u.a)));i.a.render(Object(n.jsx)(o.a,{store:_t,children:Object(n.jsx)(Nt,{})}),document.querySelector("#root"))},58:function(e,t,a){}},[[282,1,2]]]);
//# sourceMappingURL=main.e47c9a10.chunk.js.map